{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{\"2Eek\":function(t,e,n){t.exports=n(\"W7oM\")},\"7m0m\":function(t,e,n){var r=n(\"Y7ZC\"),a=n(\"uplh\"),o=n(\"NsO/\"),s=n(\"vwuL\"),u=n(\"IP1Z\");r(r.S,\"Object\",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),c=s.f,i=a(r),l={},f=0;i.length>f;)void 0!==(n=c(r,e=i[f++]))&&u(l,e,n);return l}})},Cxfa:function(t,e,n){\"use strict\";n.r(e);var r=n(\"ln6h\"),a=n.n(r),o=n(\"kOwS\"),s=n(\"0iUn\"),u=n(\"sLSF\"),c=n(\"MI3g\"),i=n(\"a7VT\"),l=n(\"AT/M\"),f=n(\"Tit0\"),p=n(\"vYYK\"),d=n(\"q1tI\"),h=n.n(d),g=(n(\"Sztk\"),n(\"ZfN1\")),v=n(\"QIjs\"),b=n(\"lxPV\"),m=n(\"1Yj4\"),w=n(\"ok1R\"),x=n(\"rhny\"),j=n(\"dpnd\"),O=n(\"8cHP\"),y=n(\"X68C\"),k=n(\"kvuc\"),N=n(\"wx14\"),P=n(\"17x9\"),E=n.n(P),I=n(\"oI+J\"),Y={children:E.a.node},B=function(t){return h.a.createElement(I.a,Object(N.a)({group:!0},t))};B.propTypes=Y;var T=B,S=n(\"Z7gm\"),M=h.a.createElement,C=function(t){var e=Object(d.useState)(!1),n=e[0],r=e[1],a=t.items;return M(T,{className:\"port-dropdown\",isOpen:n,toggle:function(){return r(!n)}},M(S.a,{caret:!0,size:\"sm\"}),function(t){return M(y.a,null,t.map((function(t,e){return M(k.a,Object(o.a)({key:e},t.handlers),t.text)})))}(a))};n.d(e,\"UserBlogs\",(function(){return z}));var Z=h.a.createElement,z=function(t){function e(){var t,n;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Object(c.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(a))),Object(p.a)(Object(l.a)(n),\"dropdownOptions\",(function(t){var e=n.createStatus(t.status);return[{text:e.view,handlers:{onClick:function(){return n.changeBlogStatus(e.value,t._id)}}},{text:\"Delete\",handlers:{onClick:function(){return n.deleteBlogWarning(t._id)}}}]})),n}return Object(f.a)(e,t),Object(u.a)(e,[{key:\"changeBlogStatus\",value:function(t,e){Object(j.l)({status:t},e).then((function(){O.Router.pushRoute(\"/userBlogs\")})).catch((function(t){console.error(t.message)}))}},{key:\"deleteBlogWarning\",value:function(t){confirm(\"Are you sure you want to delete this blog post?\")&&this.deleteBlog(t)}},{key:\"deleteBlog\",value:function(t){Object(j.c)(t).then((function(t){O.Router.pushRoute(\"/userBlogs\")})).catch((function(t){console.error(t.message)}))}},{key:\"separateBlogs\",value:function(t){var e=[],n=[];return t.forEach((function(t){\"draft\"===t.status?n.push(t):e.push(t)})),{published:e,drafts:n}}},{key:\"createStatus\",value:function(t){return\"draft\"===t?{view:\"Publish Story\",value:\"published\"}:{view:\"Make a Draft\",value:\"draft\"}}},{key:\"renderBlogs\",value:function(t){var e=this;return Z(\"ul\",{className:\"user-blogs-list\"},t.map((function(t,n){return Z(\"li\",{key:n},Z(O.Link,{route:\"/blogs/\".concat(t._id,\"/edit\")},Z(\"a\",null,t.title)),Z(C,{items:e.dropdownOptions(t)}))})))}},{key:\"render\",value:function(){var t=this.props.blogs,e=this.separateBlogs(t),n=e.published,r=e.drafts;return Z(g.a,Object(o.a)({},this.props.auth,{headerType:\"landing\"}),Z(\"div\",{className:\"masthead\",style:{backgroundImage:\"url('../images/home-bg.jpg')\"}},Z(\"div\",{className:\"overlay\"}),Z(m.a,null,Z(\"div\",{className:\"row\"},Z(\"div\",{className:\"col-lg-8 col-md-10 mx-auto\"},Z(\"div\",{className:\"site-heading\"},Z(\"h1\",null,\"Fresh Blogs\"),Z(\"span\",{className:\"subheading\"},\"Programming, travelling...\")))))),Z(v.a,{className:\"blog-user-page\"},Z(w.a,null,Z(x.a,{md:\"6\",className:\"mx-auto text-center\"},Z(\"h2\",{className:\"blog-status-title\"},\"Published Blogs\"),this.renderBlogs(n)),Z(x.a,{md:\"6\",className:\"mx-auto text-center\"},Z(\"h2\",{className:\"blog-status-title\"},\"Draft Blogs\"),this.renderBlogs(r)))))}}],[{key:\"getInitialProps\",value:function(t){var e,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.req,n=[],r.prev=2,r.next=5,a.a.awrap(Object(j.k)(e));case 5:n=r.sent,r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),console.error(r.t0);case 11:return r.abrupt(\"return\",{blogs:n});case 12:case\"end\":return r.stop()}}),null,null,[[2,8]])}}]),e}(d.Component);e.default=Object(b.a)(\"siteOwner\")(z)},QIjs:function(t,e,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r),o=n(\"1Yj4\"),s=(n(\"kY+P\"),a.a.createElement),u=function(t){var e=t.className,n=t.title,r=t.containerClass;return s(\"div\",{className:\"base-page \".concat(e)},s(o.a,{className:r},n&&s(\"div\",{className:\"page-header\"},\" \",s(\"h1\",{className:\"page-header-title\"},n),\" \"),t.children))};u.defaultProps={className:\"\",containerClass:\"\"},e.a=u},UXZV:function(t,e,n){t.exports=n(\"UbbE\")},UbbE:function(t,e,n){n(\"o8NH\"),t.exports=n(\"WEpk\").Object.assign},W7oM:function(t,e,n){n(\"nZgG\");var r=n(\"WEpk\").Object;t.exports=function(t,e){return r.defineProperties(t,e)}},XoMD:function(t,e,n){t.exports=n(\"hYAz\")},dpnd:function(t,e,n){\"use strict\";n.d(e,\"j\",(function(){return g})),n.d(e,\"i\",(function(){return v})),n.d(e,\"b\",(function(){return b})),n.d(e,\"h\",(function(){return m})),n.d(e,\"m\",(function(){return w})),n.d(e,\"d\",(function(){return x})),n.d(e,\"g\",(function(){return j})),n.d(e,\"f\",(function(){return O})),n.d(e,\"k\",(function(){return y})),n.d(e,\"a\",(function(){return k})),n.d(e,\"e\",(function(){return N})),n.d(e,\"l\",(function(){return P})),n.d(e,\"c\",(function(){return E}));var r=n(\"ln6h\"),a=n.n(r),o=n(\"eVuF\"),s=n.n(o),u=n(\"vDqi\"),c=n.n(u),i=n(\"p46w\"),l=n.n(i),f=n(\"hw50\"),p=c.a.create({baseURL:\"\".concat(\"http://angeloamadora.herokuapp.com\",\"/api/v1\"),timeout:3e3}),d=function(t){var e=t?Object(f.a)(t,\"jwt\"):l.a.getJSON(\"jwt\");if(e)return{headers:{authorization:\"Bearer \".concat(e)}}},h=function(t){var e={};return e=t&&t.response&&t.response.data?t.response.data:t,s.a.reject(e)},g=function(t){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t?\"/secret\":\"/api/v1/secret\",n.next=3,a.a.awrap(p.get(e,d(t)).then((function(t){return t.data})));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},v=function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return\"/portfolios\",t.next=3,a.a.awrap(p.get(\"/portfolios\").then((function(t){return t.data})));case 3:return t.abrupt(\"return\",t.sent);case 4:case\"end\":return t.stop()}}))},b=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return\"/portfolios\",e.next=3,a.a.awrap(p.post(\"/portfolios\",t,d()).then((function(t){return t.data})).catch((function(t){return h(t)})));case 3:return e.abrupt(\"return\",e.sent);case 4:case\"end\":return e.stop()}}))},m=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(p.get(\"/portfolios/\".concat(t)).then((function(t){return t.data})));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}))},w=function(t){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=\"/portfolios/\".concat(t._id),n.next=3,a.a.awrap(p.patch(e,t,d()).then((function(t){return t.data})).catch((function(t){return h(t)})));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},x=function(t){return p.delete(\"/portfolios/\".concat(t),d()).then((function(t){return t.data}))},j=function(t){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(p.get(\"/blogs\").then((function(t){return t.data})));case 2:return t.abrupt(\"return\",t.sent);case 3:case\"end\":return t.stop()}}))},O=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(p.get(\"/blogs/s/\".concat(t)).then((function(t){return t.data})));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}))},y=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(p.get(\"/blogs/me\",d(t)).then((function(t){return t.data})));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}))},k=function(t,e){return p.post(\"/blogs?lockId=\".concat(e),t,d()).then((function(t){return t.data})).catch((function(t){return h(t)}))},N=function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(p.get(\"/blogs/\".concat(t)).then((function(t){return t.data})));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}))},P=function(t,e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt(\"return\",p.patch(\"/blogs/\".concat(e),t,d()).then((function(t){return t.data})).catch((function(t){return h(t)})));case 1:case\"end\":return n.stop()}}))},E=function(t){return p.delete(\"/blogs/\".concat(t),d()).then((function(t){return t.data})).catch((function(t){return h(t)}))}},hYAz:function(t,e,n){n(\"7m0m\"),t.exports=n(\"WEpk\").Object.getOwnPropertyDescriptors},kOwS:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));var r=n(\"UXZV\"),a=n.n(r);function o(){return(o=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}},\"kY+P\":function(t,e,n){},lxPV:function(t,e,n){\"use strict\";var r=n(\"hfKm\"),a=n.n(r),o=n(\"2Eek\"),s=n.n(o),u=n(\"XoMD\"),c=n.n(u),i=n(\"Jo+v\"),l=n.n(i),f=n(\"4mXO\"),p=n.n(f),d=n(\"pLtp\"),h=n.n(d),g=n(\"ln6h\"),v=n.n(g),b=n(\"vYYK\"),m=n(\"0iUn\"),w=n(\"sLSF\"),x=n(\"MI3g\"),j=n(\"a7VT\"),O=n(\"Tit0\"),y=n(\"q1tI\"),k=n.n(y),N=n(\"ZfN1\"),P=n(\"QIjs\"),E=k.a.createElement;function I(t,e){var n=h()(t);if(p.a){var r=p()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):c.a?s()(t,c()(n)):I(Object(n)).forEach((function(e){a()(t,e,l()(n,e))}))}return t}e.a=function(t){return function(e){return function(n){function r(){return Object(m.a)(this,r),Object(x.a)(this,Object(j.a)(r).apply(this,arguments))}return Object(O.a)(r,n),Object(w.a)(r,[{key:\"renderProtectedPage\",value:function(){var n=this.props.auth,r=n.isAuthenticated,a=n.user,o=a&&a[\"\".concat(\"http://angeloamadora.herokuapp.com\",\"/role\")],s=!1;return t?o&&o===t&&(s=!0):s=!0,r?s?E(e,this.props):E(\"div\",null,E(N.a,this.props.auth,E(P.a,null,E(\"h1\",null,\"You're not Authroized, you dont have permission to access this page\")))):E(\"div\",null,E(N.a,this.props.auth,E(P.a,null,E(\"h1\",null,\"You're not isAuthenticated, please log in to access this page\"))))}},{key:\"render\",value:function(){return this.renderProtectedPage()}}],[{key:\"getInitialProps\",value:function(t){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.awrap(e.getInitialProps);case 2:if(r.t0=r.sent,!r.t0){r.next=7;break}return r.next=6,v.a.awrap(e.getInitialProps(t));case 6:r.t0=r.sent;case 7:return n=r.t0,r.abrupt(\"return\",Y({},n));case 9:case\"end\":return r.stop()}}))}}]),r}(k.a.Component)}}},nZgG:function(t,e,n){var r=n(\"Y7ZC\");r(r.S+r.F*!n(\"jmDH\"),\"Object\",{defineProperties:n(\"fpC5\")})},o8NH:function(t,e,n){var r=n(\"Y7ZC\");r(r.S+r.F,\"Object\",{assign:n(\"kwZ1\")})},ok1R:function(t,e,n){\"use strict\";var r=n(\"wx14\"),a=n(\"zLVn\"),o=n(\"q1tI\"),s=n.n(o),u=n(\"17x9\"),c=n.n(u),i=n(\"TSYQ\"),l=n.n(i),f=n(\"33Jr\"),p=c.a.oneOfType([c.a.number,c.a.string]),d={tag:f.n,noGutters:c.a.bool,className:c.a.string,cssModule:c.a.object,form:c.a.bool,xs:p,sm:p,md:p,lg:p,xl:p},h={tag:\"div\",widths:[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"]},g=function(t){var e=t.className,n=t.cssModule,o=t.noGutters,u=t.tag,c=t.form,i=t.widths,p=Object(a.a)(t,[\"className\",\"cssModule\",\"noGutters\",\"tag\",\"form\",\"widths\"]),d=[];i.forEach((function(e,n){var r=t[e];if(delete p[e],r){var a=!n;d.push(a?\"row-cols-\"+r:\"row-cols-\"+e+\"-\"+r)}}));var h=Object(f.j)(l()(e,o?\"no-gutters\":null,c?\"form-row\":\"row\",d),n);return s.a.createElement(u,Object(r.a)({},p,{className:h}))};g.propTypes=d,g.defaultProps=h,e.a=g},rhny:function(t,e,n){\"use strict\";var r=n(\"wx14\"),a=n(\"zLVn\"),o=n(\"q1tI\"),s=n.n(o),u=n(\"17x9\"),c=n.n(u),i=n(\"TSYQ\"),l=n.n(i),f=n(\"33Jr\"),p=c.a.oneOfType([c.a.number,c.a.string]),d=c.a.oneOfType([c.a.bool,c.a.number,c.a.string,c.a.shape({size:c.a.oneOfType([c.a.bool,c.a.number,c.a.string]),order:p,offset:p})]),h={tag:f.n,xs:d,sm:d,md:d,lg:d,xl:d,className:c.a.string,cssModule:c.a.object,widths:c.a.array},g={tag:\"div\",widths:[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"]},v=function(t,e,n){return!0===n||\"\"===n?t?\"col\":\"col-\"+e:\"auto\"===n?t?\"col-auto\":\"col-\"+e+\"-auto\":t?\"col-\"+n:\"col-\"+e+\"-\"+n},b=function(t){var e=t.className,n=t.cssModule,o=t.widths,u=t.tag,c=Object(a.a)(t,[\"className\",\"cssModule\",\"widths\",\"tag\"]),i=[];o.forEach((function(e,r){var a=t[e];if(delete c[e],a||\"\"===a){var o=!r;if(Object(f.h)(a)){var s,u=o?\"-\":\"-\"+e+\"-\",p=v(o,e,a.size);i.push(Object(f.j)(l()(((s={})[p]=a.size||\"\"===a.size,s[\"order\"+u+a.order]=a.order||0===a.order,s[\"offset\"+u+a.offset]=a.offset||0===a.offset,s)),n))}else{var d=v(o,e,a);i.push(d)}}})),i.length||i.push(\"col\");var p=Object(f.j)(l()(e,i),n);return s.a.createElement(u,Object(r.a)({},c,{className:p}))};b.propTypes=h,b.defaultProps=g,e.a=b},sIjd:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/userBlogs\",function(){return n(\"Cxfa\")}])},uplh:function(t,e,n){var r=n(\"ar/p\"),a=n(\"mqlF\"),o=n(\"5K7Z\"),s=n(\"5T2Y\").Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},vYYK:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));var r=n(\"hfKm\"),a=n.n(r);function o(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}}},[[\"sIjd\",1,2,0,3,4]]]);"}