{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/common/BasePage/BasePage';\nimport withAuth from '../components/hoc/withAuth';\nimport SlateEditor from '../components/slate-editor/Editor';\nimport DynamicEditor from '../components/slate-editor/DynamicEditor';\nimport RichText from '../components/slate-editor/RichText';\nimport { saveBlog, createBlog } from '../actions';\nimport { Router } from '../routes';\nexport var BlogEditor =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BlogEditor, _Component);\n\n  function BlogEditor(props) {\n    var _this;\n\n    _classCallCheck(this, BlogEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BlogEditor).call(this, props));\n    _this.state = {\n      isSaving: false,\n      lockId: Math.floor(1000 + Math.random() * 9000)\n    };\n    _this.saveBlog = _this.saveBlog.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BlogEditor, [{\n    key: \"saveBlog\",\n    value: function saveBlog(heading, story) {\n      var _this2 = this;\n\n      var lockId = this.state.lockId;\n      var blog = {};\n      blog.title = heading.title;\n      blog.subTitle = heading.subtitle;\n      blog.story = story;\n      this.setState({\n        isSaving: true\n      });\n      createBlog(blog, lockId).then(function (createdBlog) {\n        _this2.setState({\n          isSaving: false\n        });\n\n        Router.pushRoute(\"/blogs/\".concat(createdBlog._id, \"/edit\"));\n      })[\"catch\"](function (err) {\n        _this2.setState({\n          isSaving: false\n        });\n\n        var message = err.message || 'Server Error!';\n        console.error(message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isSaving = this.state.isSaving;\n      return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n        containerClass: \"editor-wrapper\",\n        className: \"blog-editor-page\"\n      }, __jsx(RichText, {\n        save: this.saveBlog,\n        isSaving: isSaving\n      }))));\n    }\n  }]);\n\n  return BlogEditor;\n}(Component);\nexport default withAuth('siteOwner')(BlogEditor);","map":null,"metadata":{},"sourceType":"module"}