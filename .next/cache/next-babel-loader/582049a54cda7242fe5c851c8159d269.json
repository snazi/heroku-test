{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/common/BasePage/BasePage';\nimport withAuth from '../components/hoc/withAuth';\nimport PortfolioCreateFrom from '../components/portfolios/PortfolioCreateFrom';\nimport { Row, Col } from 'reactstrap';\nimport { createPortfolio } from '../actions';\nimport { Router } from '../routes';\nimport moment from 'moment';\nconst INITIAL_VALUES = {\n  title: '',\n  company: '',\n  location: '',\n  position: '',\n  description: '',\n  startDate: moment(),\n  endDate: moment()\n};\nexport class portfolioNew extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      error: undefined\n    };\n    this.savePortfolio = this.savePortfolio.bind(this);\n  }\n\n  savePortfolio(portfolioData, {\n    setSubmitting\n  }) {\n    // alert(JSON.stringify(portfolioData, null, 2));\n    setSubmitting(true);\n    createPortfolio(portfolioData).then(portfolio => {\n      setSubmitting(false);\n      console.log(portfolio);\n      this.setState({\n        error: undefined\n      });\n      Router.pushRoute('/portfolios');\n    }).catch(err => {\n      const error = err.message || \"Server Error!\";\n      setSubmitting(false);\n      this.setState({\n        error: err.message\n      });\n    });\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n      className: \"portfolio-create-page\",\n      title: \"Create New Portfolio\"\n    }, __jsx(Row, null, __jsx(Col, {\n      md: \"6\"\n    }, __jsx(PortfolioCreateFrom, {\n      initialValues: INITIAL_VALUES,\n      error: error,\n      onSubmit: this.savePortfolio\n    }))))));\n  }\n\n}\nexport default withAuth('siteOwner')(portfolioNew);","map":null,"metadata":{},"sourceType":"module"}