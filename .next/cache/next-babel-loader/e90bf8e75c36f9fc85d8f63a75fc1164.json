{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/common/BasePage/BasePage';\nimport withAuth from '../components/hoc/withAuth';\nimport PortfolioCreateFrom from '../components/portfolios/PortfolioCreateFrom';\nimport { Row, Col } from 'reactstrap';\nimport { getPortfolioById, updatePortfolio } from '../actions';\nimport { Router } from '../routes';\nexport class portfolioEdit extends Component {\n  static async getInitialProps({\n    query\n  }) {\n    let portfolio = {};\n\n    try {\n      portfolio = await getPortfolioById(query.id);\n    } catch (error) {\n      console.log(err);\n    }\n\n    return {\n      portfolio\n    };\n  } // static async getStaticProps() {\n  // }\n\n\n  constructor(props) {\n    super();\n    this.state = {\n      error: undefined\n    };\n    this.updatePortfolio = this.updatePortfolio.bind(this);\n  }\n\n  updatePortfolio(portfolioData, {\n    setSubmitting\n  }) {\n    alert(JSON.stringify(portfolioData, null, 2));\n    setSubmitting(true);\n    updatePortfolio(portfolioData).then(portfolio => {\n      setSubmitting(false);\n      console.log(portfolio);\n      this.setState({\n        error: undefined\n      });\n      Router.pushRoute('/portfolios');\n    }).catch(err => {\n      const error = err.message || \"Server Error!\";\n      setSubmitting(false);\n      this.setState({\n        error: err.message\n      });\n    });\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    const {\n      portfolio\n    } = this.props;\n    return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n      className: \"portfolio-create-page\",\n      title: \"Update Portfolio\"\n    }, __jsx(Row, null, __jsx(Col, {\n      md: \"6\"\n    }, __jsx(PortfolioCreateFrom, {\n      initialValues: portfolio,\n      error: error,\n      onSubmit: this.updatePortfolio\n    }))))));\n  }\n\n}\nexport default withAuth('siteOwner')(portfolioEdit);","map":null,"metadata":{},"sourceType":"module"}