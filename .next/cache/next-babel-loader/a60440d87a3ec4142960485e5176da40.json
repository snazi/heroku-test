{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport axios from 'axios'; // this link comes from routes.js\n\nimport { Link } from '../routes';\nimport BasePage from '../components/common/BasePage/BasePage';\nexport var Portfolios =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Portfolios, _Component);\n\n  function Portfolios() {\n    _classCallCheck(this, Portfolios);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Portfolios).apply(this, arguments));\n  }\n\n  _createClass(Portfolios, [{\n    key: \"renderPosts\",\n    value: function renderPosts(posts) {\n      return posts.map(function (post, index) {\n        return __jsx(\"li\", {\n          key: index\n        }, __jsx(Link, {\n          route: \"/portfolio/\".concat(post.id)\n        }, __jsx(\"a\", {\n          style: {\n            'fontSize': '20px'\n          }\n        }, \" \", post.title, \" \")));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var posts = this.props.posts;\n      return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n        title: \"Portfolios\"\n      }, __jsx(\"ul\", null, this.renderPosts(posts)))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var posts, response;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // this console log will only show up in the SERVER side not the client. The only way for this to show up on the client is when you access this component again.\n              console.log('get initial props');\n              posts = {};\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(axios.get('https://jsonplaceholder.typicode.com/posts'));\n\n            case 5:\n              response = _context.sent;\n              posts = response.data;\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(_context.t0);\n\n            case 12:\n              return _context.abrupt(\"return\", {\n                posts: posts.splice(0, 10)\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[2, 9]]);\n    }\n  }]);\n\n  return Portfolios;\n}(Component);\nexport default Portfolios;","map":{"version":3,"sources":["E:/Documents/Projects/portfolio/frontend/pages/portfolios.js"],"names":["React","Component","Header","BaseLayout","axios","Link","BasePage","Portfolios","posts","map","post","index","id","title","props","auth","renderPosts","console","log","get","response","data","error","splice"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAAQC,IAAR,QAAmB,WAAnB;AACA,OAAOC,QAAP,MAAqB,wCAArB;AACA,WAAaC,UAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,gCAmBgBC,KAnBhB,EAmBuB;AAEf,aAAOA,KAAK,CAACC,GAAN,CAAW,UAACC,IAAD,EAAMC,KAAN,EAAgB;AAC9B,eACI;AAAI,UAAA,GAAG,EAAEA;AAAT,WAQI,MAAC,IAAD;AAAM,UAAA,KAAK,uBAAgBD,IAAI,CAACE,EAArB;AAAX,WACI;AAAG,UAAA,KAAK,EAAE;AAAC,wBAAY;AAAb;AAAV,gBAAkCF,IAAI,CAACG,KAAvC,MADJ,CARJ,CADJ;AAcH,OAfM,CAAP;AAgBH;AArCL;AAAA;AAAA,6BAuCa;AAAA,UAEEL,KAFF,GAEW,KAAKM,KAFhB,CAEEN,KAFF;AAGL,aACI,mBACI,MAAC,UAAD,EAAgB,KAAKM,KAAL,CAAWC,IAA3B,EACI,MAAC,QAAD;AAAU,QAAA,KAAK,EAAC;AAAhB,SACI,kBACC,KAAKC,WAAL,CAAiBR,KAAjB,CADD,CADJ,CADJ,CADJ,CADJ;AAWH;AArDL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGQ;AACAS,cAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAEIV,cAAAA,KANZ,GAMmB,EANnB;AAAA;AAAA;AAAA,+CAQmCJ,KAAK,CAACe,GAAN,CAAU,4CAAV,CARnC;;AAAA;AAQkBC,cAAAA,QARlB;AASYZ,cAAAA,KAAK,GAAGY,QAAQ,CAACC,IAAjB;AATZ;AAAA;;AAAA;AAAA;AAAA;AAWYJ,cAAAA,OAAO,CAACK,KAAR;;AAXZ;AAAA,+CAgBe;AAACd,gBAAAA,KAAK,EAAEA,KAAK,CAACe,MAAN,CAAa,CAAb,EAAe,EAAf;AAAR,eAhBf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAgCtB,SAAhC;AAwDA,eAAeM,UAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport Header from '../components/common/Header/Header'\r\nimport BaseLayout from '../components/layouts/BaseLayout'\r\nimport axios from 'axios' \r\n// this link comes from routes.js\r\nimport {Link} from '../routes'\r\nimport BasePage from '../components/common/BasePage/BasePage'\r\nexport class Portfolios extends Component {\r\n\r\n    static async getInitialProps() {\r\n        // this console log will only show up in the SERVER side not the client. The only way for this to show up on the client is when you access this component again.\r\n        console.log('get initial props')\r\n         \r\n        let posts ={}\r\n        try {\r\n            const response = await axios.get('https://jsonplaceholder.typicode.com/posts')\r\n            posts = response.data\r\n          } catch (error) {\r\n            console.error(error)\r\n          }\r\n        //take note at the end of this line, this function is an async task. This means that its execution lives outside and its execution is not sequential to the original\r\n        //turned getInitialProps into an async function. through the try catch function, it runs the code and if theres an error anywhere, throw a console log of the error.\r\n        // I am throwing userData to the component as a props\r\n        return {posts: posts.splice(0,10)}\r\n    }\r\n\r\n    renderPosts(posts) {\r\n       \r\n        return posts.map( (post,index) => {\r\n            return (\r\n                <li key={index}>\r\n                {/* \r\n                    inside the link, we used string interpolation in order to generate an href with the base\r\n                    \"/portfolio\" + title=post.title that means that whatever the resulting line becomes, it will convert to string\r\n\r\n                    the \"as={}\" prop for the link changes the href/url into whatever the value inside it is.\r\n                    in this case, it turns the URL to display the post id instead of the title itself.\r\n                 */}\r\n                    <Link route={`/portfolio/${post.id}`}>\r\n                        <a style={{'fontSize': '20px'}}> {post.title} </a>\r\n                    </Link>\r\n                </li>\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        \r\n        const {posts} = this.props\r\n        return (\r\n            <div> \r\n                <BaseLayout {...this.props.auth}>\r\n                    <BasePage title=\"Portfolios\">\r\n                        <ul>\r\n                        {this.renderPosts(posts)}\r\n                        </ul>\r\n                    </BasePage>\r\n                </BaseLayout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Portfolios\r\n"]},"metadata":{},"sourceType":"module"}