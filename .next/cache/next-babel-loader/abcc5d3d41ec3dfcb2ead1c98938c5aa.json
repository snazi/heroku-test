{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/common/BasePage/BasePage';\nimport withAuth from '../components/hoc/withAuth';\nimport PortfolioCreateFrom from '../components/portfolios/PortfolioCreateFrom';\nimport { Row, Col } from 'reactstrap';\nimport { createPortfolio } from '../actions';\nimport { Router } from '../routes';\nimport moment from 'moment';\nvar INITIAL_VALUES = {\n  title: '',\n  company: '',\n  location: '',\n  position: '',\n  description: '',\n  startDate: moment(),\n  endDate: moment()\n};\nexport var portfolioNew =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(portfolioNew, _Component);\n\n  function portfolioNew(props) {\n    var _this;\n\n    _classCallCheck(this, portfolioNew);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(portfolioNew).call(this));\n    _this.state = {\n      error: undefined\n    };\n    _this.savePortfolio = _this.savePortfolio.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(portfolioNew, [{\n    key: \"savePortfolio\",\n    value: function savePortfolio(portfolioData, _ref) {\n      var _this2 = this;\n\n      var setSubmitting = _ref.setSubmitting;\n      // alert(JSON.stringify(portfolioData, null, 2));\n      setSubmitting(true);\n      createPortfolio(portfolioData).then(function (portfolio) {\n        setSubmitting(false);\n        console.log(portfolio);\n\n        _this2.setState({\n          error: undefined\n        });\n\n        Router.pushRoute('/portfolios');\n      })[\"catch\"](function (err) {\n        var error = err.message || \"Server Error!\";\n        setSubmitting(false);\n\n        _this2.setState({\n          error: err.message\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n      return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n        className: \"portfolio-create-page\",\n        title: \"Create New Portfolio\"\n      }, __jsx(Row, null, __jsx(Col, {\n        md: \"6\"\n      }, __jsx(PortfolioCreateFrom, {\n        initialValues: INITIAL_VALUES,\n        error: error,\n        onSubmit: this.savePortfolio\n      }))))));\n    }\n  }]);\n\n  return portfolioNew;\n}(Component);\nexport default withAuth('siteOwner')(portfolioNew);","map":null,"metadata":{},"sourceType":"module"}