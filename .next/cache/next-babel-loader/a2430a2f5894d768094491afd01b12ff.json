{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/common/BasePage/BasePage';\nimport withAuth from '../components/hoc/withAuth';\nimport PortfolioCreateFrom from '../components/portfolios/PortfolioCreateFrom';\nimport { Row, Col } from 'reactstrap';\nimport { getPortfolioById, updatePortfolio as _updatePortfolio } from '../actions';\nimport { Router } from '../routes';\nexport var portfolioEdit =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(portfolioEdit, _Component);\n\n  _createClass(portfolioEdit, null, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var query, portfolio;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              query = _ref.query;\n              portfolio = {};\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(getPortfolioById(query.id));\n\n            case 5:\n              portfolio = _context.sent;\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(err);\n\n            case 11:\n              return _context.abrupt(\"return\", {\n                portfolio: portfolio\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[2, 8]]);\n    } // static async getStaticProps() {\n    // }\n\n  }]);\n\n  function portfolioEdit(props) {\n    var _this;\n\n    _classCallCheck(this, portfolioEdit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(portfolioEdit).call(this));\n    _this.state = {\n      error: undefined\n    };\n    _this.updatePortfolio = _this.updatePortfolio.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(portfolioEdit, [{\n    key: \"updatePortfolio\",\n    value: function updatePortfolio(portfolioData, _ref2) {\n      var _this2 = this;\n\n      var setSubmitting = _ref2.setSubmitting;\n      alert(_JSON$stringify(portfolioData, null, 2));\n      setSubmitting(true);\n\n      _updatePortfolio(portfolioData).then(function (portfolio) {\n        setSubmitting(false);\n        console.log(portfolio);\n\n        _this2.setState({\n          error: undefined\n        });\n\n        Router.pushRoute('/portfolios');\n      })[\"catch\"](function (err) {\n        var error = err.message || \"Server Error!\";\n        setSubmitting(false);\n\n        _this2.setState({\n          error: err.message\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n      var portfolio = this.props.portfolio;\n      return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n        className: \"portfolio-create-page\",\n        title: \"Update Portfolio\"\n      }, __jsx(Row, null, __jsx(Col, {\n        md: \"6\"\n      }, __jsx(PortfolioCreateFrom, {\n        initialValues: portfolio,\n        error: error,\n        onSubmit: this.updatePortfolio\n      }))))));\n    }\n  }]);\n\n  return portfolioEdit;\n}(Component);\nexport default withAuth('siteOwner')(portfolioEdit);","map":null,"metadata":{},"sourceType":"module"}