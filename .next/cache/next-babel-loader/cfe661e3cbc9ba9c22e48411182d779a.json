{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/common/BasePage/BasePage';\nimport withAuth from '../components/hoc/withAuth';\nimport PortfolioCreateFrom from '../components/portfolios/PortfolioCreateFrom';\nimport { Row, Col } from 'reactstrap';\nimport { createPortfolio } from '../actions';\nimport { Router } from '../routes';\nimport moment from 'moment';\nconst INITIAL_VALUES = {\n  title: '',\n  company: '',\n  location: '',\n  position: '',\n  description: '',\n  startDate: moment(),\n  endDate: moment()\n};\nexport class portfolioNew extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      error: undefined\n    };\n    this.savePortfolio = this.savePortfolio.bind(this);\n  }\n\n  savePortfolio(portfolioData, {\n    setSubmitting\n  }) {\n    // alert(JSON.stringify(portfolioData, null, 2));\n    setSubmitting(true);\n    createPortfolio(portfolioData).then(portfolio => {\n      setSubmitting(false);\n      console.log(portfolio);\n      this.setState({\n        error: undefined\n      });\n      Router.pushRoute('/portfolios');\n    }).catch(err => {\n      const error = err.message || \"Server Error!\";\n      setSubmitting(false);\n      this.setState({\n        error: err.message\n      });\n    });\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n      className: \"portfolio-create-page\",\n      title: \"Create New Portfolio\"\n    }, __jsx(Row, null, __jsx(Col, {\n      md: \"6\"\n    }, __jsx(PortfolioCreateFrom, {\n      initialValues: INITIAL_VALUES,\n      error: error,\n      onSubmit: this.savePortfolio\n    }))))));\n  }\n\n}\nexport default withAuth('siteOwner')(portfolioNew);","map":{"version":3,"sources":["E:/Documents/Projects/heroku potfolio test/heroku-test/pages/portfolioNew.js"],"names":["React","Component","Header","BaseLayout","BasePage","withAuth","PortfolioCreateFrom","Row","Col","createPortfolio","Router","moment","INITIAL_VALUES","title","company","location","position","description","startDate","endDate","portfolioNew","constructor","props","state","error","undefined","savePortfolio","bind","portfolioData","setSubmitting","then","portfolio","console","log","setState","pushRoute","catch","err","message","render","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,UAAP,MAAuB,kCAAvB;AACA,OAAOC,QAAP,MAAqB,wCAArB;AAEA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,OAAOC,mBAAP,MAAgC,8CAAhC;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,YAAzB;AAEA,SAASC,eAAT,QAAgC,YAAhC;AAEA,SAASC,MAAT,QAAuB,WAAvB;AAEA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,MAAMC,cAAc,GAAG;AACnBC,EAAAA,KAAK,EAAE,EADY;AAEnBC,EAAAA,OAAO,EAAE,EAFU;AAGnBC,EAAAA,QAAQ,EAAE,EAHS;AAInBC,EAAAA,QAAQ,EAAE,EAJS;AAKnBC,EAAAA,WAAW,EAAE,EALM;AAMnBC,EAAAA,SAAS,EAAEP,MAAM,EANE;AAOnBQ,EAAAA,OAAO,EAAER,MAAM;AAPI,CAAvB;AAUA,OAAO,MAAMS,YAAN,SAA2BnB,SAA3B,CAAqC;AAExCoB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAEC;AADE,KAAb;AAIA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACH;;AAEDD,EAAAA,aAAa,CAACE,aAAD,EAAiB;AAACC,IAAAA;AAAD,GAAjB,EAAkC;AAC3C;AACAA,IAAAA,aAAa,CAAC,IAAD,CAAb;AACApB,IAAAA,eAAe,CAACmB,aAAD,CAAf,CAA+BE,IAA/B,CAAsCC,SAAD,IAAe;AAChDF,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACA,WAAKG,QAAL,CAAc;AAACV,QAAAA,KAAK,EAAEC;AAAR,OAAd;AACAf,MAAAA,MAAM,CAACyB,SAAP,CAAiB,aAAjB;AACH,KALD,EAKGC,KALH,CAKWC,GAAD,IAAS;AAEf,YAAMb,KAAK,GAAGa,GAAG,CAACC,OAAJ,IAAe,eAA7B;AACAT,MAAAA,aAAa,CAAC,KAAD,CAAb;AACA,WAAKK,QAAL,CAAc;AAACV,QAAAA,KAAK,EAAEa,GAAG,CAACC;AAAZ,OAAd;AAEH,KAXD;AAYH;;AAEDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAACf,MAAAA;AAAD,QAAU,KAAKD,KAArB;AACA,WACI,mBAEI,MAAC,UAAD,EAAgB,KAAKD,KAAL,CAAWkB,IAA3B,EACI,MAAC,QAAD;AAAU,MAAA,SAAS,EAAC,uBAApB;AAA4C,MAAA,KAAK,EAAC;AAAlD,OACI,MAAC,GAAD,QACI,MAAC,GAAD;AAAK,MAAA,EAAE,EAAC;AAAR,OACI,MAAC,mBAAD;AAAqB,MAAA,aAAa,EAAE5B,cAApC;AAAoD,MAAA,KAAK,EAAEY,KAA3D;AAAkE,MAAA,QAAQ,EAAE,KAAKE;AAAjF,MADJ,CADJ,CADJ,CADJ,CAFJ,CADJ;AAcH;;AA7CuC;AAgD5C,eAAerB,QAAQ,CAAC,WAAD,CAAR,CAAsBe,YAAtB,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport Header from '../components/common/Header/Header'\r\nimport BaseLayout from '../components/layouts/BaseLayout'\r\nimport BasePage from '../components/common/BasePage/BasePage'\r\n\r\nimport withAuth from '../components/hoc/withAuth'\r\n\r\nimport PortfolioCreateFrom from '../components/portfolios/PortfolioCreateFrom'\r\nimport { Row, Col } from 'reactstrap'\r\n\r\nimport { createPortfolio } from '../actions'\r\n\r\nimport { Router } from '../routes'\r\n\r\nimport moment from 'moment'\r\n\r\nconst INITIAL_VALUES = {\r\n    title: '',\r\n    company: '',\r\n    location: '',\r\n    position: '',\r\n    description: '',\r\n    startDate: moment(),\r\n    endDate: moment()\r\n  }\r\n\r\nexport class portfolioNew extends Component {\r\n\r\n    constructor(props) {\r\n        super()\r\n\r\n        this.state = {\r\n            error: undefined\r\n        }\r\n\r\n        this.savePortfolio = this.savePortfolio.bind(this)\r\n    }\r\n\r\n    savePortfolio(portfolioData , {setSubmitting}) {\r\n        // alert(JSON.stringify(portfolioData, null, 2));\r\n        setSubmitting(true)\r\n        createPortfolio(portfolioData).then( (portfolio) => {\r\n            setSubmitting(false)\r\n            console.log(portfolio)\r\n            this.setState({error: undefined})\r\n            Router.pushRoute('/portfolios')\r\n        }).catch( (err) => {\r\n            \r\n            const error = err.message || \"Server Error!\"\r\n            setSubmitting(false)\r\n            this.setState({error: err.message})\r\n            \r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {error} = this.state\r\n        return (\r\n            <div>\r\n            {/* we destructured auth props using this notation and passed it as a props to BaseLayout */}\r\n                <BaseLayout {...this.props.auth}>\r\n                    <BasePage className=\"portfolio-create-page\" title=\"Create New Portfolio\">\r\n                        <Row>\r\n                            <Col md=\"6\">\r\n                                <PortfolioCreateFrom initialValues={INITIAL_VALUES} error={error} onSubmit={this.savePortfolio}/>\r\n                            </Col>\r\n                        </Row>\r\n                    </BasePage> \r\n                </BaseLayout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withAuth('siteOwner')(portfolioNew)\r\n"]},"metadata":{},"sourceType":"module"}