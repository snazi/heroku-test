{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { getCookieFromRequest } from '../helpers/utils';\nvar axiosInstance = axios.create({\n  baseURL: \"\".concat(\"http://localhost:3000\", \"/api/v1\"),\n  timeout: 3000\n});\n\nvar setAuthHeader = function setAuthHeader(req) {\n  var token = req ? getCookieFromRequest(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return {\n      headers: {\n        'authorization': \"Bearer \".concat(token)\n      }\n    };\n  }\n\n  return undefined;\n};\n\nvar rejectPromise = function rejectPromise(resError) {\n  var error = {};\n\n  if (resError && resError.response && resError.response.data) {\n    error = resError.response.data;\n  } else {\n    error = resError;\n  }\n\n  return _Promise.reject(error);\n};\n\nexport var getSecretData = function getSecretData(req) {\n  var url;\n  return _regeneratorRuntime.async(function getSecretData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          url = req ? '/secret' : '/api/v1/secret';\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axiosInstance.get(url, setAuthHeader(req)).then(function (response) {\n            return response.data;\n          }));\n\n        case 3:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n}; // export const getSecretDataServer = async (req) => {\n//     return await axios.get('http://localhost:3000/api/v1/secret', setAuthHeader(req) ).then( response => response.data )\n// }\n\nexport var getPortfolios = function getPortfolios() {\n  var url;\n  return _regeneratorRuntime.async(function getPortfolios$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          url = '/portfolios';\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(axiosInstance.get(url).then(function (response) {\n            return response.data;\n          }));\n\n        case 3:\n          return _context2.abrupt(\"return\", _context2.sent);\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n};\nexport var createPortfolio = function createPortfolio(portfolioData) {\n  var url;\n  return _regeneratorRuntime.async(function createPortfolio$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          url = '/portfolios';\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(axiosInstance.post(url, portfolioData, setAuthHeader()).then(function (response) {\n            return response.data;\n          })[\"catch\"](function (error) {\n            return rejectPromise(error);\n          }));\n\n        case 3:\n          return _context3.abrupt(\"return\", _context3.sent);\n\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  });\n};\nexport var getPortfolioById = function getPortfolioById(id) {\n  return _regeneratorRuntime.async(function getPortfolioById$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return _regeneratorRuntime.awrap(axiosInstance.get(\"/portfolios/\".concat(id)).then(function (response) {\n            return response.data;\n          }));\n\n        case 2:\n          return _context4.abrupt(\"return\", _context4.sent);\n\n        case 3:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  });\n};\nexport var updatePortfolio = function updatePortfolio(portfolioData) {\n  var url;\n  return _regeneratorRuntime.async(function updatePortfolio$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          url = \"/portfolios/\".concat(portfolioData._id);\n          _context5.next = 3;\n          return _regeneratorRuntime.awrap(axiosInstance.patch(url, portfolioData, setAuthHeader()).then(function (response) {\n            return response.data;\n          })[\"catch\"](function (error) {\n            return rejectPromise(error);\n          }));\n\n        case 3:\n          return _context5.abrupt(\"return\", _context5.sent);\n\n        case 4:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  });\n};\nexport var deletePortfolio = function deletePortfolio(id) {\n  return axiosInstance[\"delete\"](\"/portfolios/\".concat(id), setAuthHeader()).then(function (response) {\n    return response.data;\n  });\n}; // BLOG ACTIONS\n\nexport var getBlogs = function getBlogs(req) {\n  return _regeneratorRuntime.async(function getBlogs$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return _regeneratorRuntime.awrap(axiosInstance.get('/blogs').then(function (response) {\n            return response.data;\n          }));\n\n        case 2:\n          return _context6.abrupt(\"return\", _context6.sent);\n\n        case 3:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  });\n};\nexport var getBlogBySlug = function getBlogBySlug(slug) {\n  return _regeneratorRuntime.async(function getBlogBySlug$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return _regeneratorRuntime.awrap(axiosInstance.get(\"/blogs/s/\".concat(slug)).then(function (response) {\n            return response.data;\n          }));\n\n        case 2:\n          return _context7.abrupt(\"return\", _context7.sent);\n\n        case 3:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  });\n};\nexport var getUserBlogs = function getUserBlogs(req) {\n  return _regeneratorRuntime.async(function getUserBlogs$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return _regeneratorRuntime.awrap(axiosInstance.get('/blogs/me', setAuthHeader(req)).then(function (response) {\n            return response.data;\n          }));\n\n        case 2:\n          return _context8.abrupt(\"return\", _context8.sent);\n\n        case 3:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  });\n};\nexport var saveBlog = function saveBlog(blogData) {\n  return new _Promise(function (resolve, reject) {\n    setTimeout(function () {\n      resolve('Promise Resolved!');\n    }, 1000);\n  });\n};\nexport var createBlog = function createBlog(blogData, lockId) {\n  return axiosInstance.post(\"/blogs?lockId=\".concat(lockId), blogData, setAuthHeader()).then(function (response) {\n    return response.data;\n  })[\"catch\"](function (err) {\n    return rejectPromise(err);\n  });\n};\nexport var getBlogById = function getBlogById(id) {\n  return _regeneratorRuntime.async(function getBlogById$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return _regeneratorRuntime.awrap(axiosInstance.get(\"/blogs/\".concat(id)).then(function (response) {\n            return response.data;\n          }));\n\n        case 2:\n          return _context9.abrupt(\"return\", _context9.sent);\n\n        case 3:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  });\n};\nexport var updateBlog = function updateBlog(blogData, blogId) {\n  return _regeneratorRuntime.async(function updateBlog$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          return _context10.abrupt(\"return\", axiosInstance.patch(\"/blogs/\".concat(blogId), blogData, setAuthHeader()).then(function (response) {\n            return response.data;\n          })[\"catch\"](function (err) {\n            return rejectPromise(err);\n          }));\n\n        case 1:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  });\n};\nexport var deleteBlog = function deleteBlog(blogId) {\n  return axiosInstance[\"delete\"](\"/blogs/\".concat(blogId), setAuthHeader()).then(function (response) {\n    return response.data;\n  })[\"catch\"](function (err) {\n    return rejectPromise(err);\n  });\n};","map":{"version":3,"sources":["E:/Documents/Code Projects/Portfolio/heroku-test/actions/index.js"],"names":["axios","Cookies","getCookieFromRequest","axiosInstance","create","baseURL","timeout","setAuthHeader","req","token","getJSON","headers","undefined","rejectPromise","resError","error","response","data","reject","getSecretData","url","get","then","getPortfolios","createPortfolio","portfolioData","post","getPortfolioById","id","updatePortfolio","_id","patch","deletePortfolio","getBlogs","getBlogBySlug","slug","getUserBlogs","saveBlog","blogData","resolve","setTimeout","createBlog","lockId","err","getBlogById","updateBlog","blogId","deleteBlog"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\nimport { getCookieFromRequest } from '../helpers/utils'\r\n\r\n\r\n\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: `${process.env.BASE_URL}/api/v1`,\r\n    timeout: 3000\r\n})\r\n\r\nconst setAuthHeader = (req) => {\r\n    const token = req ? getCookieFromRequest(req,'jwt') : Cookies.getJSON('jwt')\r\n\r\n    if(token) {\r\n        return {headers: {'authorization': `Bearer ${token}`}}\r\n    }\r\n\r\n    return undefined\r\n}\r\n\r\nconst rejectPromise = (resError) => {\r\n    let error = {}\r\n\r\n    if(resError && resError.response && resError.response.data) {\r\n        error = resError.response.data\r\n    } else {\r\n        error = resError\r\n    }\r\n\r\n    return Promise.reject(error)\r\n}\r\n\r\nexport const getSecretData = async (req) => {\r\n\r\n    const url = req ? '/secret' : '/api/v1/secret'\r\n\r\n    return await axiosInstance.get(url, setAuthHeader(req) ).then( response => response.data )\r\n}\r\n\r\n// export const getSecretDataServer = async (req) => {\r\n//     return await axios.get('http://localhost:3000/api/v1/secret', setAuthHeader(req) ).then( response => response.data )\r\n// }\r\n\r\nexport const getPortfolios = async () => {\r\n    const url =  '/portfolios'\r\n\r\n    return await axiosInstance.get(url).then( response => response.data )\r\n}\r\n\r\nexport const createPortfolio = async (portfolioData) => {\r\n    const url =  '/portfolios'\r\n\r\n    return await axiosInstance.post(url, portfolioData, setAuthHeader()).then( response => response.data )\r\n    .catch(error => {return rejectPromise(error)})\r\n}\r\n\r\nexport const getPortfolioById = async (id) => {\r\n    return await axiosInstance.get(`/portfolios/${id}`).then(response => response.data)\r\n}\r\n\r\nexport const updatePortfolio = async (portfolioData) => {\r\n    const url =  `/portfolios/${portfolioData._id}`\r\n\r\n    return await axiosInstance.patch(url, portfolioData, setAuthHeader())\r\n    .then( response => response.data )\r\n    .catch(error => {\r\n        return rejectPromise(error)\r\n    })\r\n}\r\n\r\nexport const deletePortfolio = (id) => {\r\n    return axiosInstance.delete(`/portfolios/${id}`, setAuthHeader())\r\n        .then( response => response.data )\r\n}\r\n\r\n// BLOG ACTIONS\r\nexport const getBlogs = async (req) => {\r\n    return await axiosInstance.get('/blogs').then(response => response.data)\r\n}\r\n\r\nexport const getBlogBySlug = async (slug) => {\r\n    return await axiosInstance.get(`/blogs/s/${slug}`).then(response => response.data)\r\n}\r\n\r\nexport const getUserBlogs = async (req) => {\r\n    return await axiosInstance.get('/blogs/me', setAuthHeader(req)).then(response => response.data)\r\n}\r\n\r\nexport const saveBlog = (blogData) => {\r\n    return new Promise( (resolve, reject) => {\r\n        setTimeout( () => {\r\n            resolve('Promise Resolved!')\r\n        }, 1000)\r\n    })\r\n}\r\n\r\nexport const createBlog = (blogData, lockId) => {\r\n    return axiosInstance.post(`/blogs?lockId=${lockId}`, blogData, setAuthHeader())\r\n            .then(response => response.data)\r\n            .catch(err => rejectPromise(err))\r\n}\r\n\r\nexport const getBlogById = async (id) => {\r\n    return await axiosInstance.get(`/blogs/${id}`).then(response => response.data)\r\n}\r\n\r\nexport const updateBlog = async (blogData, blogId) => {\r\n    return axiosInstance.patch(`/blogs/${blogId}`, blogData, setAuthHeader())\r\n            .then(response => response.data)\r\n            .catch(err => rejectPromise(err))\r\n}\r\n\r\nexport const deleteBlog = (blogId) => {\r\n    return axiosInstance.delete(`/blogs/${blogId}`, setAuthHeader())\r\n            .then(response => response.data)\r\n            .catch(err => rejectPromise(err))\r\n}"]},"metadata":{},"sourceType":"module"}