{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Header from '../components/common/Header/Header';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/common/BasePage/BasePage';\nimport withAuth from '../components/hoc/withAuth';\nimport SlateEditor from '../components/slate-editor/Editor';\nimport DynamicEditor from '../components/slate-editor/DynamicEditor';\nimport RichText from '../components/slate-editor/RichText';\nimport { saveBlog, createBlog } from '../actions';\nimport { Router } from '../routes';\nexport class BlogEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSaving: false,\n      lockId: Math.floor(1000 + Math.random() * 9000)\n    };\n    this.saveBlog = this.saveBlog.bind(this);\n  }\n\n  saveBlog(heading, story) {\n    const {\n      lockId\n    } = this.state;\n    const blog = {};\n    blog.title = heading.title;\n    blog.subTitle = heading.subtitle;\n    blog.story = story;\n    this.setState({\n      isSaving: true\n    });\n    createBlog(blog, lockId).then(createdBlog => {\n      this.setState({\n        isSaving: false\n      });\n      Router.pushRoute(`/blogs/${createdBlog._id}/edit`);\n    }).catch(err => {\n      this.setState({\n        isSaving: false\n      });\n      const message = err.message || 'Server Error!';\n      console.error(message);\n    });\n  }\n\n  render() {\n    const {\n      isSaving\n    } = this.state;\n    return __jsx(\"div\", null, __jsx(BaseLayout, this.props.auth, __jsx(BasePage, {\n      containerClass: \"editor-wrapper\",\n      className: \"blog-editor-page\"\n    }, __jsx(RichText, {\n      save: this.saveBlog,\n      isSaving: isSaving\n    }))));\n  }\n\n}\nexport default withAuth('siteOwner')(BlogEditor);","map":null,"metadata":{},"sourceType":"module"}